{"ast":null,"code":"import { NgClass, NgFor } from \"@angular/common\";\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"timeTable\"];\nconst _c1 = [\"tpl1\"];\nfunction TimetableComponent_ng_template_2_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 9);\n    i0.ɵɵlistener(\"click\", function TimetableComponent_ng_template_2_li_7_Template_li_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.clickEvent($event.target));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    const i_r7 = ctx.index;\n    const worker_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", worker_r3.scheduleClasses[i_r7]);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", item_r6, \" \");\n  }\n}\nfunction TimetableComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 3, 4)(2, \"div\", 5);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ul\", 7);\n    i0.ɵɵtemplate(7, TimetableComponent_ng_template_2_li_7_Template, 2, 2, \"li\", 8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const worker_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(worker_r3.date);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(worker_r3.fio);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", worker_r3.schedule);\n  }\n}\nexport let TimetableComponent = /*#__PURE__*/(() => {\n  class TimetableComponent {\n    viewContainerRef;\n    fio;\n    date;\n    checked;\n    timeTable;\n    tpl;\n    view;\n    constructor(viewContainerRef) {\n      this.viewContainerRef = viewContainerRef;\n    }\n    ngOnChanges(changes) {\n      let scheduleArr = this.fillscheduleArr(20);\n      let workerData = {\n        fio: this.fio,\n        date: this.date,\n        schedule: scheduleArr[0],\n        scheduleClasses: scheduleArr[1]\n      };\n      if (changes.checked || changes.fio) {\n        if (this.checked) {\n          this.addWorker(workerData);\n        } else {\n          this.deleteWorker(workerData.fio);\n        }\n      }\n    }\n    clickEvent(target) {\n      console.log(target.style.backgroundColor);\n      let ComputedStyle = getComputedStyle(target).toString();\n      console.log(ComputedStyle);\n      if (ComputedStyle == \"rgb(0, 128, 0)\") {\n        this.addNote(target);\n      } else {\n        this.removeNote(target);\n      }\n    }\n    addNote(target) {\n      target.classList.add('appointment');\n      target.classList.remove('freely');\n    }\n    removeNote(target) {\n      target.classList.add('freely');\n      target.classList.remove('appointment');\n    }\n    deleteWorker(fio) {\n      let element = document.getElementById(`${fio}`);\n      element.remove();\n    }\n    addWorker(workerData) {\n      this.view = this.viewContainerRef.createEmbeddedView(this.tpl, {\n        $implicit: workerData\n      });\n      this.view.rootNodes[0].id = workerData.fio;\n      this.timeTable.nativeElement.appendChild(this.view.rootNodes[0]);\n    }\n    fillscheduleArr(lenght) {\n      let arr = [[], []];\n      let time = new Date();\n      time.setHours(8, 0, 0);\n      for (let i = 0; i < lenght; i++) {\n        let hours = time.getHours().toString();\n        let minuts = time.getMinutes().toString();\n        if (minuts == \"0\") minuts = \"00\";\n        arr[0].push(`${hours} : ${minuts}`);\n        arr[1].push(\"freely\");\n        time.setMinutes(time.getMinutes() + 10);\n      }\n      return arr;\n    }\n    static ɵfac = function TimetableComponent_Factory(t) {\n      return new (t || TimetableComponent)(i0.ɵɵdirectiveInject(i0.ViewContainerRef));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TimetableComponent,\n      selectors: [[\"timetable\"]],\n      viewQuery: function TimetableComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n          i0.ɵɵviewQuery(_c1, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.timeTable = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.tpl = _t.first);\n        }\n      },\n      inputs: {\n        fio: \"fio\",\n        date: \"date\",\n        checked: \"checked\"\n      },\n      standalone: true,\n      features: [i0.ɵɵNgOnChangesFeature, i0.ɵɵStandaloneFeature],\n      decls: 4,\n      vars: 0,\n      consts: [[1, \"timeTable\"], [\"timeTable\", \"\"], [\"tpl1\", \"\"], [1, \"oneWorker\"], [\"last\", \"\"], [1, \"date\"], [1, \"FIO\"], [1, \"schedule\"], [3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\", \"click\"]],\n      template: function TimetableComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ul\", 0, 1);\n          i0.ɵɵtemplate(2, TimetableComponent_ng_template_2_Template, 8, 3, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd();\n        }\n      },\n      dependencies: [NgFor, NgClass],\n      styles: [\".timeTable>.oneWorker{color:#ddd;background-color:#a9a9a9;display:flex;text-align:center;border-top-right-radius:5px;border-top-left-radius:5px;padding:10px;margin-bottom:20px;margin-right:50px;display:inline-block}.timeTable>.oneWorker>.date{color:#fcfcfc;background-color:#393939;width:100%;margin-top:-10px;margin-left:-10px;padding:10px;border-top-left-radius:5px;border-top-right-radius:5px;font-size:1.1rem}.timeTable>.oneWorker>.FIO{color:#fcfcfc;background-color:#6d6d6d;margin-left:-10px;margin-right:-10px;padding-top:10px;padding-bottom:10px;font-size:1.1rem}.timeTable>.oneWorker>.schedule{display:flex;justify-content:center;flex-direction:column;list-style-type:none;width:100%;padding-top:0;width:200px}.timeTable>.oneWorker>.schedule>.freely{cursor:pointer;background-color:#fff;border-top:1px solid #ddd;border-bottom:1px solid #ddd;margin-left:-50px;margin-right:-10px;font-size:1.1rem;color:#000}.timeTable>.oneWorker>.schedule>.appointment{cursor:pointer;background-color:green;border-top:1px solid #ddd;border-bottom:1px solid #dddddd;margin-left:-50px;font-size:1.1rem;color:#000;margin-right:-10px}\\n\"],\n      encapsulation: 2\n    });\n  }\n  return TimetableComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}